import{n as Oe,o as Pe,p as we,q as Ee}from"./chunk-BGSM2RZN.js";import{Aa as r,Ba as u,Bb as pe,Cb as z,D as J,Db as fe,E as P,Fa as C,G as X,Gb as ve,H as b,Ha as g,Ia as p,K as h,L as _,R as w,Ra as W,Rb as ue,S as ee,Sa as d,Sb as be,T as te,Ta as f,Ua as de,Vb as he,X as ne,Xb as _e,Ya as se,Yb as xe,a as O,aa as ie,b as $,ba as U,ca as s,cc as Ce,d as Ne,db as k,e as Z,fa as ae,ga as y,gc as G,i as Q,jb as ce,kc as D,la as v,ma as E,na as oe,nb as le,nc as M,ob as A,pa as x,pb as me,pc as Me,qc as T,rc as B,s as Y,sa as re,sb as I,sc as N,ta as l,tc as Re,uc as Se,va as m,vc as ye,za as a,zb as ge}from"./chunk-EMXLGPPS.js";var ke=(()=>{class i{get vertical(){return this._vertical}set vertical(e){this._vertical=G(e)}_vertical=!1;get inset(){return this._inset}set inset(e){this._inset=G(e)}_inset=!1;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,o){t&2&&(re("aria-orientation",o.vertical?"vertical":"horizontal"),m("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,o){},styles:[`.mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}
`],encapsulation:2,changeDetection:0})}return i})(),Ae=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=E({type:i});static \u0275inj=P({imports:[M,M]})}return i})();var Ie="mat-badge-content",He=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,o){},styles:[`.mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}
`],encapsulation:2,changeDetection:0})}return i})(),ze=(()=>{class i{_ngZone=b(ee);_elementRef=b(te);_ariaDescriber=b(Ce);_renderer=b(ae);_animationMode=b(ne,{optional:!0});_idGenerator=b(xe);get color(){return this._color}set color(e){this._setColor(e),this._color=e}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(e){this._updateRenderedContent(e)}_content;get description(){return this._description}set description(e){this._updateDescription(e)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=b(he);_document=b(ce);constructor(){let e=b(ue);e.load(He),e.load(be)}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let e=this._renderer.createElement("span"),t="mat-badge-active";return e.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),e.setAttribute("aria-hidden","true"),e.classList.add(Ie),this._animationMode==="NoopAnimations"&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(t)})}):e.classList.add(t),e}_updateRenderedContent(e){let t=`${e??""}`.trim();this._isInitialized&&t&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=t),this._content=t}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){let t=this._elementRef.nativeElement.classList;t.remove(`mat-badge-${this._color}`),e&&t.add(`mat-badge-${e}`)}_clearExistingBadges(){let e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${Ie}`);for(let t of Array.from(e))t!==this._badgeElement&&t.remove()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=oe({type:i,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(t,o){t&2&&m("mat-badge-overlap",o.overlap)("mat-badge-above",o.isAbove())("mat-badge-below",!o.isAbove())("mat-badge-before",!o.isAfter())("mat-badge-after",o.isAfter())("mat-badge-small",o.size==="small")("mat-badge-medium",o.size==="medium")("mat-badge-large",o.size==="large")("mat-badge-hidden",o.hidden||!o.content)("mat-badge-disabled",o.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",k],disabled:[2,"matBadgeDisabled","disabled",k],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",k]}})}return i})(),De=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=E({type:i});static \u0275inj=P({imports:[_e,M,M]})}return i})();var q=Ne(Re());function Te(){return q.default.fire({title:"\xBFDeseas cerrar sesi\xF3n?",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xED, Cerrar Sesi\xF3n",confirmButtonColor:"#d33",cancelButtonText:"No, Quedarme"})}function Be(i,n=""){return q.default.fire(i,n,"success")}function We(i,n){if(i&1&&(a(0,"mat-icon",30),d(1,"notifications"),r()),i&2){let e=p();l("matBadge",e.notificationCount)}}function Ge(i,n){i&1&&(a(0,"mat-icon"),d(1,"notifications_none"),r())}var R=class i{constructor(n,e){this.authService=n;this.router=e}redirectUrl="";isFixed=!0;toggleSidebar=new w;notificationCount=1;notificationRead=!1;onToggleSidebar(){this.toggleSidebar.emit()}markAsRead(n){n.stopPropagation(),this.notificationRead=!0,this.notificationCount=0}markAllAsRead(n){n.stopPropagation(),this.notificationRead=!0,this.notificationCount=0}get username(){return this.authService.getUsername()}get role(){return this.authService.getRole()}goToProfile(){this.router.navigate(["/admin/profile"])}logout(){Te().then(n=>{n.isConfirmed&&(this.authService.logout(),Be("Sesi\xF3n cerrada").then(()=>{this.router.navigate(["/"])}))})}static \u0275fac=function(e){return new(e||i)(y(ve),y(z))};static \u0275cmp=v({type:i,selectors:[["app-admin-header"]],inputs:{redirectUrl:"redirectUrl",isFixed:"isFixed"},outputs:{toggleSidebar:"toggleSidebar"},decls:70,vars:13,consts:[["notificationsMenu","matMenu"],["userMenu","matMenu"],[1,"header"],[1,"left-section"],["mat-icon-button","",1,"sidebar-toggle",3,"click"],[1,"logo-title",3,"routerLink"],["src","/img/Logo.png","alt","Logo Codexy",1,"header-logo"],[1,"title"],[1,"right-section"],["mat-icon-button","",1,"notification-btn",3,"matMenuTriggerFor"],["matBadgeColor","warn",3,"matBadge",4,"ngIf"],[4,"ngIf"],[1,"user-profile",3,"matMenuTriggerFor"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"avatar"],[1,"notifications-header"],["mat-icon-button","",3,"click"],[1,"notification-item"],[1,"notification-icon"],[1,"notification-content"],[1,"notification-time"],["mat-icon-button","",1,"mark-read-btn",3,"click"],[1,"notifications-footer"],["mat-button","","color","primary"],[1,"user-menu-header"],[1,"avatar-large"],[1,"user-details"],["mat-menu-item","",3,"click"],["matBadgeColor","warn",3,"matBadge"]],template:function(e,t){if(e&1){let o=C();a(0,"mat-toolbar",2)(1,"div",3)(2,"button",4),g("click",function(){return h(o),_(t.onToggleSidebar())}),a(3,"mat-icon"),d(4,"menu"),r()(),a(5,"div",5),u(6,"img",6),a(7,"span",7),d(8,"Codexy"),r()()(),a(9,"div",8)(10,"button",9),x(11,We,2,1,"mat-icon",10)(12,Ge,2,0,"mat-icon",11),r(),a(13,"div",12)(14,"div",13)(15,"span",14),d(16),r(),a(17,"span",15),d(18),r()(),a(19,"div",16)(20,"mat-icon"),d(21,"account_circle"),r()()()(),a(22,"mat-menu",null,0)(24,"div",17)(25,"h3"),d(26,"Notificaciones"),r(),a(27,"button",18),g("click",function(j){return h(o),_(t.markAllAsRead(j))}),a(28,"mat-icon"),d(29,"done_all"),r()()(),u(30,"mat-divider"),a(31,"div",19)(32,"div",20)(33,"mat-icon"),d(34,"info"),r()(),a(35,"div",21)(36,"p"),d(37,"Bienvenido al panel de administraci\xF3n"),r(),a(38,"span",22),d(39,"Hace 5 min"),r()(),a(40,"button",23),g("click",function(j){return h(o),_(t.markAsRead(j))}),a(41,"mat-icon"),d(42,"check_circle"),r()()(),u(43,"mat-divider"),a(44,"div",24)(45,"button",25),d(46,"Ver todas las notificaciones"),r()()(),a(47,"mat-menu",null,1)(49,"div",26)(50,"div",27)(51,"mat-icon"),d(52,"account_circle"),r()(),a(53,"div",28)(54,"span",14),d(55),r(),a(56,"span",15),d(57),r()()(),u(58,"mat-divider"),a(59,"button",29),g("click",function(){return h(o),_(t.goToProfile())}),a(60,"mat-icon"),d(61,"person"),r(),a(62,"span"),d(63,"Mi Perfil"),r()(),u(64,"mat-divider"),a(65,"button",29),g("click",function(){return h(o),_(t.logout())}),a(66,"mat-icon"),d(67,"logout"),r(),a(68,"span"),d(69,"Cerrar Sesi\xF3n"),r()()()()}if(e&2){let o=W(23),c=W(48);m("fixed",t.isFixed),s(5),l("routerLink",t.redirectUrl),s(5),l("matMenuTriggerFor",o),s(),l("ngIf",t.notificationCount>0),s(),l("ngIf",t.notificationCount===0),s(),l("matMenuTriggerFor",c),s(3),f(t.username),s(2),f(t.role),s(13),m("read",t.notificationRead),s(24),f(t.username),s(2),f(t.role)}},dependencies:[I,A,ye,Se,N,B,Ee,Pe,Oe,we,T,Me,D,Ae,ke,fe,De,ze],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:75px;background:linear-gradient(135deg,var(--color-blue-1000) 0%,var(--color-blue-900) 100%);border-bottom:2px solid rgba(255,255,255,.1);box-sizing:border-box;padding:0 1.5rem;position:relative;z-index:900;width:100%;box-shadow:0 2px 10px #0000001a}.header.fixed[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:900;height:75px}.left-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.sidebar-toggle[_ngcontent-%COMP%]{color:var(--color-white)!important}.sidebar-toggle[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.logo-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer;transition:opacity .3s ease}.logo-title[_ngcontent-%COMP%]:hover{opacity:.8}.header-logo[_ngcontent-%COMP%]{width:45px;height:45px;object-fit:contain}.title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;letter-spacing:1.5px;color:var(--color-white);display:flex;align-items:center;gap:.5rem}.right-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.notification-btn[_ngcontent-%COMP%]{color:var(--color-white);transition:all .3s ease}.notification-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transform:scale(1.1)}.user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem;border-radius:8px;cursor:pointer;transition:all .3s ease}.user-profile[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:end;gap:4px}.user-name[_ngcontent-%COMP%]{font-weight:500;color:var(--color-white);font-size:.9rem;line-height:normal}.user-role[_ngcontent-%COMP%]{font-size:.75rem;color:#ffffffb3;text-transform:capitalize;line-height:normal}.avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--color-blue-700) 0%,var(--color-blue-800) 100%);display:flex;align-items:center;justify-content:center;color:#fff}.avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.notifications-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:500}.notification-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:1rem;cursor:pointer;transition:all .2s ease;position:relative}.notification-item.read[_ngcontent-%COMP%]{opacity:.6}.notification-item.read[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400}.mark-read-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;opacity:0;transition:opacity .2s ease}.notification-item[_ngcontent-%COMP%]:hover   .mark-read-btn[_ngcontent-%COMP%]{opacity:1}.mark-read-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#4caf50}.notifications-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.notifications-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#666;transition:color .2s ease}.notifications-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#2196f3}.notification-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.notification-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background-color:#e3f2fd;display:flex;align-items:center;justify-content:center;color:var(--color-blue-700);flex-shrink:0}.notification-content[_ngcontent-%COMP%]{flex:1}.notification-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:.9rem}.notification-time[_ngcontent-%COMP%]{font-size:.75rem;color:#757575}.notifications-footer[_ngcontent-%COMP%]{padding:.5rem;text-align:center}.user-menu-header[_ngcontent-%COMP%]{padding:1rem;display:flex;align-items:center;gap:1rem}.avatar-large[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:linear-gradient(135deg,var(--color-blue-700) 0%,var(--color-blue-800) 100%);display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.avatar-large[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-details[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.user-details[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{color:#666;text-transform:capitalize}@media (max-width: 768px){.header[_ngcontent-%COMP%], .header.fixed[_ngcontent-%COMP%]{height:60px}.user-info[_ngcontent-%COMP%]{display:none}.notifications-menu[_ngcontent-%COMP%]{min-width:300px;max-width:90vw}}@media (max-width: 480px){.title[_ngcontent-%COMP%]{font-size:1.2rem}.header-logo[_ngcontent-%COMP%]{width:35px;height:35px}}"]})};var F=class i{constructor(n){this.router=n;this.initializeNavigation()}navigationConfig=[{id:"dashboard",label:"Dashboard",icon:"dashboard",route:"/admin/dashboard",expandable:!1},{id:"empresa",label:"Empresa",icon:"business",expandable:!0,children:[{id:"empresa-registro",label:"Registrar Empresa",icon:"app_registration",route:"/admin/empresa/registro"},{id:"empresa-configuracion",label:"Configuraci\xF3n",icon:"settings",route:"/admin/empresa/configuracion"}]},{id:"sucursales",label:"Sucursales",icon:"location_city",expandable:!0,children:[{id:"sucursales-nueva",label:"Nueva Sucursal",icon:"add",route:"/admin/sucursales/nueva"}]},{id:"administradores",label:"Administradores",icon:"supervisor_account",expandable:!0,children:[{id:"administradores-nuevo",label:"Nuevo Admin",icon:"person_add",route:"/admin/administradores/nuevo"},{id:"administradores-lista",label:"Lista de Admins",icon:"list",route:"/admin/administradores/lista"}]}];navigationState=new Q({currentRoute:"",expandedSections:{},activeSection:void 0});navigationState$=this.navigationState.asObservable();initializeNavigation(){this.router.events.pipe(Y(e=>e instanceof ge)).subscribe(e=>{this.updateNavigationState(e.urlAfterRedirects||e.url)});let n=this.router.url==="/admin"?"/admin/dashboard":this.router.url;this.updateNavigationState(n)}updateNavigationState(n){let e=this.navigationState.value,t=this.findActiveSectionByRoute(n),o=this.calculateExpandedSections(n,e.expandedSections);this.navigationState.next({currentRoute:n,expandedSections:o,activeSection:t})}findActiveSectionByRoute(n){for(let e of this.navigationConfig)if(e.expandable&&e.children){for(let t of e.children)if(t.route&&this.isRouteMatch(n,t.route))return e.id}else if(e.route&&this.isRouteMatch(n,e.route))return e.id}isRouteMatch(n,e){let t=n.endsWith("/")?n.slice(0,-1):n,o=e.endsWith("/")?e.slice(0,-1):e;return t===o||t.startsWith(o+"/")}calculateExpandedSections(n,e){let t=O({},e),o=this.findActiveSectionByRoute(n);return o&&this.findSectionById(o)?.expandable&&(t[o]=!0),t}findSectionById(n){return this.navigationConfig.find(e=>e.id===n)}getNavigationConfig(){return[...this.navigationConfig]}getCurrentState(){return this.navigationState.value}toggleSection(n){let e=this.navigationState.value,t=$(O({},e.expandedSections),{[n]:!e.expandedSections[n]});this.navigationState.next($(O({},e),{expandedSections:t}))}isRouteActive(n){let e=this.navigationState.value.currentRoute;return n==="/admin"&&e==="/admin/dashboard"||n==="/admin/dashboard"&&(e==="/admin/dashboard"||e==="/admin")?!0:this.isRouteMatch(e,n)}isSectionActive(n){return this.navigationState.value.activeSection===n}isSectionExpanded(n){return!!this.navigationState.value.expandedSections[n]}navigateTo(n){let e=n==="/admin"?"/admin/dashboard":n;this.router.navigate([e])}addDynamicItems(n,e){let t=this.navigationConfig.findIndex(o=>o.id===n);if(t!==-1&&this.navigationConfig[t].children){let o=this.navigationConfig[t].children.filter(c=>!c.id.includes("dynamic-"));this.navigationConfig[t].children=[...o,...e]}}clearDynamicItems(n){let e=this.navigationConfig.findIndex(t=>t.id===n);e!==-1&&this.navigationConfig[e].children&&(this.navigationConfig[e].children=this.navigationConfig[e].children.filter(t=>!t.id.includes("dynamic-")))}static \u0275fac=function(e){return new(e||i)(X(z))};static \u0275prov=J({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ke=i=>({display:i});function Ze(i,n){i&1&&(a(0,"div",10)(1,"span",11),d(2,"Panel Admin"),r()())}function Qe(i,n){i&1&&(a(0,"div",12)(1,"div",13)(2,"mat-icon"),d(3,"admin_panel_settings"),r()(),a(4,"h3",14),d(5,"Administraci\xF3n"),r()())}function Ye(i,n){i&1&&(a(0,"div",15),u(1,"div",16),r())}function Je(i,n){if(i&1){let e=C();a(0,"button",20),g("click",function(){h(e);let o=p().$implicit,c=p();return _(c.navigateTo(o.route))}),a(1,"div",21)(2,"mat-icon"),d(3),r()(),a(4,"span",22),d(5),r(),a(6,"mat-icon",23),d(7,"chevron_right"),r()()}if(i&2){let e=p().$implicit,t=p();m("active",t.isRouteActive(e.route)),s(3),f(e.icon),s(2),f(e.label)}}function Xe(i,n){if(i&1){let e=C();a(0,"button",27),g("click",function(){let o=h(e).$implicit,c=p(3);return _(c.navigateTo(o.route))}),a(1,"mat-icon"),d(2),r(),a(3,"span"),d(4),r()()}if(i&2){let e=n.$implicit,t=p(3);m("active",t.isRouteActive(e.route)),s(2),f(e.icon),s(2),f(e.label)}}function et(i,n){if(i&1){let e=C();a(0,"div")(1,"button",24),g("click",function(){h(e);let o=p().$implicit,c=p();return _(c.toggleSection(o.id))}),a(2,"div",21)(3,"mat-icon"),d(4),r()(),a(5,"span",22),d(6),r(),a(7,"mat-icon",23),d(8),r()(),a(9,"div",25),x(10,Xe,5,4,"button",26),r()()}if(i&2){let e=p().$implicit,t=p();s(),m("active",t.isSectionActive(e.id)),s(3),f(e.icon),s(2),f(e.label),s(2),de(" ",t.isSectionExpanded(e.id)?"expand_less":"expand_more"," "),s(),m("expanded",t.isSectionExpanded(e.id)),s(),l("ngForOf",e.children)}}function tt(i,n){if(i&1&&(a(0,"div",17),x(1,Je,8,4,"button",18)(2,et,11,8,"div",19),r()),i&2){let e=n.$implicit,t=p();l("ngStyle",se(3,Ke,t.isExpanded?"block":"none")),s(),l("ngIf",!e.expandable),s(),l("ngIf",e.expandable)}}function nt(i,n){i&1&&(a(0,"div",15),u(1,"div",16),r())}function it(i,n){i&1&&(a(0,"div",28)(1,"p",29),d(2,"v1.0 - 2025"),r()())}var H=class i{constructor(n){this.navigationService=n}isExpanded=!1;toggleSidebar=new w;navigationItems=[];navigationState={currentRoute:"",expandedSections:{},activeSection:void 0};navigationSubscription=new Z;sucursales=[{id:1,nombre:"Sucursal A"},{id:2,nombre:"Sucursal B"},{id:3,nombre:"Sucursal C"}];ngOnInit(){this.navigationItems=this.navigationService.getNavigationConfig(),this.addDynamicSucursales(),this.navigationSubscription=this.navigationService.navigationState$.subscribe(n=>{this.navigationState=n})}ngOnDestroy(){this.navigationSubscription&&this.navigationSubscription.unsubscribe()}addDynamicSucursales(){let n=this.sucursales.map(e=>({id:`dynamic-sucursal-${e.id}`,label:e.nombre,icon:"store",route:`/admin/sucursales/${e.id}`}));this.navigationService.addDynamicItems("sucursales",n),this.navigationItems=this.navigationService.getNavigationConfig()}isRouteActive(n){return this.navigationService.isRouteActive(n)}isSectionActive(n){return this.navigationService.isSectionActive(n)}isSectionExpanded(n){return this.navigationService.isSectionExpanded(n)}toggleSection(n){this.navigationService.toggleSection(n)}navigateTo(n){this.navigationService.navigateTo(n),window.innerWidth<768&&this.onToggleSidebar()}onEscapeKey(n){this.isExpanded&&(this.onToggleSidebar(),n.preventDefault())}onClickOutside(n){let e=n.target;this.isExpanded&&!e.closest(".sidebar")&&!e.closest(".sidebar-toggle")&&!e.closest(".sidebar-overlay")&&this.onToggleSidebar()}onResize(n){window.innerWidth>=768&&!this.isExpanded&&this.onToggleSidebar()}onToggleSidebar(){this.toggleSidebar.emit()}static \u0275fac=function(e){return new(e||i)(y(F))};static \u0275cmp=v({type:i,selectors:[["app-admin-sidebar"]],hostBindings:function(e,t){e&1&&g("keydown.escape",function(c){return t.onEscapeKey(c)},!1,U)("click",function(c){return t.onClickOutside(c)},!1,U)("resize",function(c){return t.onResize(c)},!1,ie)},inputs:{isExpanded:"isExpanded"},outputs:{toggleSidebar:"toggleSidebar"},decls:13,vars:11,consts:[[1,"sidebar"],[1,"sidebar-header"],["mat-icon-button","",1,"toggle-btn",3,"click"],["class","logo-container",4,"ngIf"],[1,"sidebar-content"],["class","welcome-section",4,"ngIf"],["class","divider",4,"ngIf"],["class","nav-section",3,"ngStyle",4,"ngFor","ngForOf"],["class","sidebar-footer",4,"ngIf"],[1,"sidebar-overlay",3,"click"],[1,"logo-container"],[1,"logo-text"],[1,"welcome-section"],[1,"welcome-icon"],[1,"welcome-title"],[1,"divider"],[1,"divider-line"],[1,"nav-section",3,"ngStyle"],["class","nav-item-simple",3,"active","click",4,"ngIf"],[4,"ngIf"],[1,"nav-item-simple",3,"click"],[1,"nav-icon"],[1,"nav-label"],[1,"nav-chevron"],[1,"nav-header",3,"click"],[1,"nav-submenu"],["class","nav-subitem",3,"active","click",4,"ngFor","ngForOf"],[1,"nav-subitem",3,"click"],[1,"sidebar-footer"],[1,"footer-text"]],template:function(e,t){e&1&&(a(0,"nav",0)(1,"div",1)(2,"button",2),g("click",function(){return t.onToggleSidebar()}),a(3,"mat-icon"),d(4),r()(),x(5,Ze,3,0,"div",3),r(),a(6,"div",4),x(7,Qe,6,0,"div",5)(8,Ye,2,0,"div",6)(9,tt,3,5,"div",7)(10,nt,2,0,"div",6)(11,it,3,0,"div",8),r()(),a(12,"div",9),g("click",function(){return t.onToggleSidebar()}),r()),e&2&&(m("expanded",t.isExpanded),s(4),f(t.isExpanded?"chevron_left":"chevron_right"),s(),l("ngIf",t.isExpanded),s(2),l("ngIf",t.isExpanded),s(),l("ngIf",t.isExpanded),s(),l("ngForOf",t.navigationItems),s(),l("ngIf",t.isExpanded),s(),l("ngIf",t.isExpanded),s(),m("visible",t.isExpanded))},dependencies:[I,le,A,me,N,B,T,D],styles:['.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-300px;height:100vh;width:300px;background:linear-gradient(135deg,var(--color-blue-variante-2) 0%,var(--color-blue-1000) 100%);transition:all .3s ease;z-index:1000;display:flex;flex-direction:column;overflow-x:hidden;box-shadow:3px 0 15px #0000004d}.sidebar.expanded[_ngcontent-%COMP%]{left:0}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 1rem 1rem;border-bottom:1px solid rgba(255,255,255,.1);height:70px;box-sizing:border-box;background:var(--color-blue-900-17);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.toggle-btn[_ngcontent-%COMP%]{color:var(--color-white);transition:all .3s ease}.toggle-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transform:scale(1.1)}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center}.logo-text[_ngcontent-%COMP%]{color:var(--color-white);font-weight:600;font-size:1.5rem;background:linear-gradient(135deg,#fff,#e0e7ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.sidebar-content[_ngcontent-%COMP%]{flex:1;padding:1rem;overflow-y:auto;display:flex;flex-direction:column;gap:1.5rem}.welcome-section[_ngcontent-%COMP%]{text-align:center;padding:1rem 0 .5rem}.welcome-icon[_ngcontent-%COMP%]{width:50px;height:50px;margin:0 auto .5rem;background:#ffffff1a;border-radius:50%;display:flex;align-items:center;justify-content:center}.welcome-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.8rem;width:1.8rem;height:1.8rem;color:#fff}.welcome-title[_ngcontent-%COMP%]{color:var(--color-white);font-size:1.1rem;font-weight:600;margin:0}.divider[_ngcontent-%COMP%]{margin:.5rem 0}.divider-line[_ngcontent-%COMP%]{height:1px;background:#ffffff1a}.nav-section[_ngcontent-%COMP%]{margin-bottom:.5rem}.nav-item-simple.active[_ngcontent-%COMP%], .nav-header.active[_ngcontent-%COMP%], .nav-subitem.active[_ngcontent-%COMP%]{background:#ffffff1a!important;position:relative}.nav-item-simple.active[_ngcontent-%COMP%]:before, .nav-header.active[_ngcontent-%COMP%]:before, .nav-subitem.active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;height:100%;width:4px;background:linear-gradient(135deg,var(--color-blue-variante-1) 0%,var(--color-blue-500) 100%)}.nav-item-simple.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%], .nav-header.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{background:#fff3!important}.nav-item-simple.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .nav-header.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .nav-subitem.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--color-white)!important}.nav-item-simple.active[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%], .nav-header.active[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%], .nav-subitem.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:var(--color-white)!important}.nav-item-simple[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%;padding:.75rem 1rem;border:none;background:transparent;color:var(--color-white);cursor:pointer;transition:all .2s ease;text-align:left}.nav-item-simple[_ngcontent-%COMP%]:hover{background:#ffffff0d;transform:translate(5px)}.nav-item-simple[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:6px;background:#ffffff1a;display:flex;align-items:center;justify-content:center;flex-shrink:0}.nav-item-simple[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem;color:var(--color-white)}.nav-item-simple[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{flex:1;font-size:.9rem;font-weight:500}.nav-item-simple[_ngcontent-%COMP%]   .nav-chevron[_ngcontent-%COMP%]{color:#ffffff80;font-size:1.1rem;width:1.1rem;height:1.1rem;transition:transform .3s ease}.nav-item-simple[_ngcontent-%COMP%]:hover   .nav-chevron[_ngcontent-%COMP%]{transform:translate(3px);color:var(--color-white)}.nav-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%;padding:.75rem 1rem;border:none;background:transparent;color:var(--color-white);cursor:pointer;transition:all .2s ease;text-align:left}.nav-header[_ngcontent-%COMP%]:hover{background:#ffffff0d}.nav-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:6px;background:#ffffff1a;display:flex;align-items:center;justify-content:center;flex-shrink:0}.nav-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.1rem;width:1.1rem;height:1.1rem;color:var(--color-white)}.nav-label[_ngcontent-%COMP%]{flex:1;font-size:.9rem;font-weight:500}.nav-chevron[_ngcontent-%COMP%]{color:#ffffff80;font-size:1.1rem;width:1.1rem;height:1.1rem;transition:transform .3s ease}.nav-submenu[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .3s ease}.nav-submenu.expanded[_ngcontent-%COMP%]{max-height:300px}.nav-subitem[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%;padding:.6rem 1rem .6rem 3rem;border:none;background:transparent;color:#fffc;cursor:pointer;transition:all .2s ease;text-align:left;font-size:.85rem}.nav-subitem[_ngcontent-%COMP%]:hover{background:#ffffff08;color:var(--color-white)}.nav-subitem[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;color:#fff9}.nav-subitem[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:var(--color-white)}.sidebar-footer[_ngcontent-%COMP%]{margin-top:auto;text-align:center;padding:1rem}.footer-text[_ngcontent-%COMP%]{color:#ffffff4d;font-size:.75rem;margin:0}.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:999;opacity:0;visibility:hidden;transition:all .3s ease}.sidebar-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.sidebar-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.sidebar-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.sidebar-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#ffffff4d;border-radius:4px}.sidebar-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#ffffff80}@media (max-width: 480px){.sidebar[_ngcontent-%COMP%]{width:85%;left:-85%}.nav-header[_ngcontent-%COMP%]{padding:.6rem .8rem}.nav-subitem[_ngcontent-%COMP%]{padding:.5rem .8rem .5rem 2.5rem}.nav-icon[_ngcontent-%COMP%]{width:28px;height:28px}.nav-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}}']})};var L=class i{isSidebarExpanded=!1;onToggleSidebar(){this.isSidebarExpanded=!this.isSidebarExpanded}expandSidebar(){this.isSidebarExpanded=!0}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-admin-screen"]],decls:5,vars:4,consts:[[1,"layout-container"],[3,"toggleSidebar","redirectUrl"],[3,"toggleSidebar","isExpanded"],[1,"main-content"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"app-admin-header",1),g("toggleSidebar",function(){return t.onToggleSidebar()}),r(),a(2,"app-admin-sidebar",2),g("toggleSidebar",function(){return t.onToggleSidebar()}),r(),a(3,"div",3),u(4,"router-outlet"),r()()),e&2&&(m("sidebar-expanded",t.isSidebarExpanded),s(),l("redirectUrl","/admin/dashboard"),s(),l("isExpanded",t.isSidebarExpanded))},dependencies:[R,H,pe],styles:['.layout-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;position:relative}.main-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;margin-top:var(--header-height);min-height:calc(100vh - var(--header-height));box-sizing:border-box;padding:0;transition:margin-left .3s ease;gap:0;width:100%;margin-left:0}.sidebar-expanded[_ngcontent-%COMP%]{position:relative}.sidebar-expanded[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-left:0;width:100%}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{margin-top:60px;min-height:calc(100vh - 60px)}.sidebar-expanded[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-left:0}.sidebar-expanded[_ngcontent-%COMP%]:after{content:"";position:fixed;inset:0;background:#00000080;z-index:998}}']})};var V=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-admin-dashboard"]],decls:0,vars:0,template:function(e,t){},encapsulation:2})};var sn=[{path:"",component:L,children:[{path:"dashboard",component:V},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}];export{sn as ADMIN_ROUTES};
